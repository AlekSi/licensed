install: ./script/bootstrap

matrix:
  include:
    # lint and build
    - language: ruby
      rvm: 2.4.0
      script: bundle exec rake rubocop build

    # go tests
    - language: go
      go: 1.7.x
      before_script: ./script/source-setup/go
      script: ./script/test go

    # cabal tests
    - language: haskell
      ghc: "8.2"
      before_script: ./script/source-setup/cabal
      script: ./script/test cabal

    # npm tests
    - language: node_js
      node_js: "8"
      before_script: ./script/source-setup/npm
      script: ./script/test npm

    # bower tests
    - language: node_js
      node_js: "8"
      before_script:
        - npm install -g bower
        - ./script/source-setup/bower
      script: ./script/test bower
